# Put parameters here that don't need to change on each machine where the app is deployed
# https://symfony.com/doc/current/best_practices/configuration.html#application-related-configuration
framework:
  profiler: { collect: false, enabled: false }

parameters:
  locale: en_US

services:
  # Default configuration for services in *this* file
  _defaults:
    # Automatically injects dependencies in your services
    autowire: true

    # Automatically registers your services as commands, event subscribers, etc.
    autoconfigure: true

    # Allows optimizing the container by removing unused services; this also means
    # fetching services directly from the container via $container->get() won't work
    public: false

  _instanceof:
    Sylius\Bundle\ResourceBundle\Controller\ResourceController:
      autowire: false
    Sylius\Bundle\ResourceBundle\Form\Type\AbstractResourceType:
      autowire: false

  # Makes classes in src/ available to be used as services;
  # this creates a service per class whose id is the fully-qualified class name
  App\:
    resource: '../src/*'
    exclude: '../src/{Entity,Migrations,Tests,Kernel.php}'

  app.form.extension.product_translation:
    class: App\Form\Extension\ProductTranslationTypeExtension
    tags:
      - { name: form.type_extension, extended_type: Sylius\Bundle\ProductBundle\Form\Type\ProductTranslationType, priority: -1 }

  # explicitly configure the service
  App\Command\CategoryConvertCommand:
    arguments:
      $name: null
  App\Command\ProductConvertCommand:
    arguments:
      $name: null
  App\Command\ProductImportCommand:
    arguments:
      $name: null
  App\Command\SubcategoryConvertCommand:
    arguments:
      $name: null

  # Controllers are imported separately to make sure services can be injected
  # as action arguments even if you don't extend any base controller class
  App\Controller\:
    resource: '../src/Controller'
    tags: [ 'controller.service_arguments' ]

web_profiler:
  toolbar: false
  intercept_redirects: false
